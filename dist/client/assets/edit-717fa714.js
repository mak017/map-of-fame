import{S as E,i as v,s as C,e as I,b as M,h as m,t as u,l as j,T as h,au as x,aR as b,aH as N,aN as q,M as p,I as y,a as f,H as B,K as D,m as d,ax as S,d as $}from"./index-e502461a.js";import{M as A}from"./Modal-491dd598.js";import{h as F,u as K}from"./await_block-1447f35a.js";import{a as L}from"./spot-9709e91e.js";import{B as R}from"./ButtonModalBack-ca0a6d9a.js";import{S as T}from"./ButtonPrimary-6d2e3ac2.js";import{S as U}from"./SpotForm-5cc160f1.js";import"./globals-7f7f1b26.js";import"./endpoints-6d51edb4.js";import"./each-86a114b8.js";import"./_commonjsHelpers-725317a4.js";import"./FormRadioButton-c0413eb6.js";import"./init-e6ec0936.js";import"./auth-e9453778.js";import"./transformers-2ad5cf36.js";import"./datesUtils-b77fe30a.js";import"./PlusSvg-e03ebf64.js";import"./locationUtils-2de4df67.js";import"./FormTextArea-5f3ac509.js";import"./FormTextInput-b19a5076.js";import"./CustomSelect-760c1bcd.js";import"./SelectIndicatorSvg-0ce3a4b3.js";function z(n){return{c:p,m:p,p,i:p,o:p,d:p}}function G(n){let e,o,t,r,a,i,l;return o=new R({props:{editSpot:!0}}),o.$on("click",n[2]),i=new U({props:{editSpotData:n[0],onCancel:n[2]}}),{c(){e=y("div"),f(o.$$.fragment),t=B(),r=y("h2"),r.textContent="Edit Art",a=B(),f(i.$$.fragment),D(r,"class","svelte-dj3kt3"),D(e,"class","edit-spot svelte-dj3kt3")},m(s,_){M(s,e,_),d(o,e,null),S(e,t),S(e,r),S(e,a),d(i,e,null),l=!0},p(s,_){const k={};_&1&&(k.editSpotData=s[0]),i.$set(k)},i(s){l||(m(o.$$.fragment,s),m(i.$$.fragment,s),l=!0)},o(s){u(o.$$.fragment,s),u(i.$$.fragment,s),l=!1},d(s){s&&j(e),$(o),$(i)}}}function J(n){let e,o;return e=new T({props:{height:40,margin:"auto"}}),{c(){f(e.$$.fragment)},m(t,r){d(e,t,r),o=!0},p,i(t){o||(m(e.$$.fragment,t),o=!0)},o(t){u(e.$$.fragment,t),o=!1},d(t){$(e,t)}}}function O(n){let e,o,t={ctx:n,current:null,token:null,hasCatch:!1,pending:J,then:G,catch:z,blocks:[,,,]};return F(n[1](),t),{c(){e=I(),t.block.c()},m(r,a){M(r,e,a),t.block.m(r,t.anchor=a),t.mount=()=>e.parentNode,t.anchor=e,o=!0},p(r,[a]){n=r,K(t,n,a)},i(r){o||(m(t.block),o=!0)},o(r){for(let a=0;a<3;a+=1){const i=t.blocks[a];u(i)}o=!1},d(r){r&&j(e),t.block.d(r),t.token=null,t=null}}}function P(n,e,o){let t,r,a;h(n,x,c=>o(3,t=c)),h(n,b,c=>o(0,r=c)),h(n,N,c=>o(4,a=c));const{id:i,username:l}=a,s=l.substring(1);return[r,async()=>{if(r.id)return r;const{success:c,result:g,errors:w}=await L(i);if(c&&g){const{user:H}=g;if(H.username!==s)throw t("/404"),new Error;return b.set(g),g}w&&!q(w)&&t("/404")},()=>{b.set({}),window.history.back()}]}class Q extends E{constructor(e){super(),v(this,e,P,O,C,{})}}function V(n){let e,o;return e=new Q({}),{c(){f(e.$$.fragment)},m(t,r){d(e,t,r),o=!0},i(t){o||(m(e.$$.fragment,t),o=!0)},o(t){u(e.$$.fragment,t),o=!1},d(t){$(e,t)}}}function W(n){let e,o;return e=new A({props:{id:"edit-spot-modal",noLogo:!0,noClose:!0,$$slots:{default:[V]},$$scope:{ctx:n}}}),e.$on("close",n[1]),{c(){f(e.$$.fragment)},m(t,r){d(e,t,r),o=!0},p(t,[r]){const a={};r&4&&(a.$$scope={dirty:r,ctx:t}),e.$set(a)},i(t){o||(m(e.$$.fragment,t),o=!0)},o(t){u(e.$$.fragment,t),o=!1},d(t){$(e,t)}}}function X(n,e,o){let t;return h(n,x,a=>o(0,t=a)),[t,()=>t("/")]}class bt extends E{constructor(e){super(),v(this,e,X,W,C,{})}}export{bt as default};
