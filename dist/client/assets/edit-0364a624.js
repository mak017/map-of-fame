import{S as E,i as v,s as C,e as x,b as M,h as m,t as u,l as I,T as h,aw as j,aS as b,aI as z,aO as A,M as p,I as y,a as f,H as B,K as D,m as d,az as S,d as $}from"./index-09f9502f.js";import{M as F}from"./Modal-7bbfe9bb.js";import{h as H,u as K}from"./await_block-31a6d7e3.js";import{a as L}from"./spot-3b7b98da.js";import{B as N}from"./ButtonModalBack-85c77e60.js";import{S as O}from"./ButtonPrimary-61920e22.js";import{S as T}from"./SpotForm-20e8115b.js";import"./globals-7f7f1b26.js";import"./endpoints-b6cf54a2.js";import"./each-d91c6e2f.js";import"./_commonjsHelpers-725317a4.js";import"./FormRadioButton-eecbed5a.js";import"./init-9beff97c.js";import"./auth-f14ad06a.js";import"./transformers-2ad5cf36.js";import"./datesUtils-5f8af51f.js";import"./PlusSvg-ef451b09.js";import"./locationUtils-8996ab2f.js";import"./FormTextArea-2f15eab9.js";import"./FormTextInput-a074be73.js";import"./CustomSelect-962b759c.js";import"./SelectIndicatorSvg-a0421dfe.js";function U(n){return{c:p,m:p,p,i:p,o:p,d:p}}function G(n){let e,o,t,r,a,i,l;return o=new N({props:{editSpot:!0}}),o.$on("click",n[2]),i=new T({props:{editSpotData:n[0],onCancel:n[2]}}),{c(){e=y("div"),f(o.$$.fragment),t=B(),r=y("h2"),r.textContent="Edit Art",a=B(),f(i.$$.fragment),D(r,"class","svelte-dj3kt3"),D(e,"class","edit-spot svelte-dj3kt3")},m(s,_){M(s,e,_),d(o,e,null),S(e,t),S(e,r),S(e,a),d(i,e,null),l=!0},p(s,_){const k={};_&1&&(k.editSpotData=s[0]),i.$set(k)},i(s){l||(m(o.$$.fragment,s),m(i.$$.fragment,s),l=!0)},o(s){u(o.$$.fragment,s),u(i.$$.fragment,s),l=!1},d(s){s&&I(e),$(o),$(i)}}}function J(n){let e,o;return e=new O({props:{height:40,margin:"auto"}}),{c(){f(e.$$.fragment)},m(t,r){d(e,t,r),o=!0},p,i(t){o||(m(e.$$.fragment,t),o=!0)},o(t){u(e.$$.fragment,t),o=!1},d(t){$(e,t)}}}function P(n){let e,o,t={ctx:n,current:null,token:null,hasCatch:!1,pending:J,then:G,catch:U,blocks:[,,,]};return H(n[1](),t),{c(){e=x(),t.block.c()},m(r,a){M(r,e,a),t.block.m(r,t.anchor=a),t.mount=()=>e.parentNode,t.anchor=e,o=!0},p(r,[a]){n=r,K(t,n,a)},i(r){o||(m(t.block),o=!0)},o(r){for(let a=0;a<3;a+=1){const i=t.blocks[a];u(i)}o=!1},d(r){r&&I(e),t.block.d(r),t.token=null,t=null}}}function Q(n,e,o){let t,r,a;h(n,j,c=>o(3,t=c)),h(n,b,c=>o(0,r=c)),h(n,z,c=>o(4,a=c));const{id:i,username:l}=a,s=l.substring(1);return[r,async()=>{if(r.id)return r;const{success:c,result:g,errors:w}=await L(i);if(c&&g){const{user:q}=g;if(q.username!==s)throw t("/404"),new Error;return b.set(g),g}w&&!A(w)&&t("/404")},()=>{b.set({}),window.history.back()}]}class R extends E{constructor(e){super(),v(this,e,Q,P,C,{})}}function V(n){let e,o;return e=new R({}),{c(){f(e.$$.fragment)},m(t,r){d(e,t,r),o=!0},i(t){o||(m(e.$$.fragment,t),o=!0)},o(t){u(e.$$.fragment,t),o=!1},d(t){$(e,t)}}}function W(n){let e,o;return e=new F({props:{id:"edit-spot-modal",noLogo:!0,noClose:!0,$$slots:{default:[V]},$$scope:{ctx:n}}}),e.$on("close",n[1]),{c(){f(e.$$.fragment)},m(t,r){d(e,t,r),o=!0},p(t,[r]){const a={};r&4&&(a.$$scope={dirty:r,ctx:t}),e.$set(a)},i(t){o||(m(e.$$.fragment,t),o=!0)},o(t){u(e.$$.fragment,t),o=!1},d(t){$(e,t)}}}function X(n,e,o){let t;return h(n,j,a=>o(0,t=a)),[t,()=>t("/")]}class bt extends E{constructor(e){super(),v(this,e,X,W,C,{})}}export{bt as default};
